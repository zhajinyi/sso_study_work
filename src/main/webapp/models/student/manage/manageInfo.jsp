<%--
  Created by IntelliJ IDEA.
  User: baoling
  Date: 2019/1/25
  Time: 14:00
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ include file="/include/taglib.jsp"%>
<html lang="zh-cn">

<head>
    <meta charset="utf-8">
    <title>苏州工业园区服务外包学院-学工系统-首页</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="${ctxStatic}/layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="${ctxStatic}/layuiadmin/style/admin.css" media="all">
    <link rel="stylesheet" href="${ctxStatic}/layuiadmin/style/main.css" media="all">
</head>

<body>
<div class="layui-fluid">
    <div class="layui-tab layui-tab-card">
        <ul class="layui-tab-title">
            <li class="layui-this">基本信息</li>
            <li>班级信息</li>
            <li>宿舍信息</li>
            <li>家庭信息</li>
        </ul>
        <div class="layui-tab-content stu-html-manage">
            <!-- 基本信息 -->
            <div class="layui-tab-item layui-show">
                <form class="layui-form" action=""  lay-filter="stu-form1" >
                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">姓名：</label>
                            <div class="layui-input-block">
                                <input type="text" name="empName" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">学号：</label>
                            <div class="layui-input-block">
                                <input type="text" name="id" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">性别：</label>
                            <div class="layui-input-block">
                                <input type="text" name="gender" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">学院：</label>
                            <div class="layui-input-block">
                                    <input type="text" name="collegeName" placeholder=""
                                           autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">身份证：</label>
                            <div class="layui-input-block">
                                <input type="text" name="cardno"  placeholder=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">专业：</label>
                            <div class="layui-input-block">
                                    <input type="text" name="specialtyName" placeholder=""
                                           autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">入学时间：</label>
                            <div class="layui-input-block">
                                <input type="text" name="entryYear" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">联系方式：</label>
                            <div class="layui-input-block">
                                <input type="text" name="mobileno"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">家庭邮编：</label>
                            <div class="layui-input-block">
                                <input type="text" name="postcode"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">邮箱：</label>
                            <div class="layui-input-block">
                                <input type="text" name="email"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">民族：</label>
                            <div class="layui-input-block">
                                <input type="text" name="nation"  placeholder=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">出生日期：</label>
                            <div class="layui-input-block">
                                <input type="text" name="birthdate"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">学历性质：</label>
                            <div class="layui-input-block">
                                <input type="text" name="degree"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">政治面貌：</label>
                            <div class="layui-input-block">

                                <input type="text" name="politicsStatus"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">籍贯：</label>
                            <div class="layui-input-block">
                                <input type="text" name="nativePlace"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">家庭地址：</label>
                            <div class="layui-input-block">
                                <input type="text" name="familyAddress"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">是否在校：</label>
                            <div class="layui-input-block">
                                <input type="text" name="onShool"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">学籍异动：</label>
                            <div class="layui-input-block">
                                <input type="text" name="shoolRoll" placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">银卡号：</label>
                            <div class="layui-input-block">
                                <input type="text" name="bankCard"  placeholder=""
                                       autocomplete="off" class="layui-input" >
                            </div>
                        </div>
                    </div>

                    <div class="layui-form-item btn-bottom">
                        <div class="layui-input-block" style="margin-left: 0;text-align: center;bottom: 200px;">
                            <button class="layui-btn layui-btn-success" lay-submit lay-filter="component-form-element" >保存</button>
                        </div>
                    </div>
                </form>
            </div>
            <!-- 班级信息 -->
            <div class="layui-tab-item">
                <form class="layui-form" action="" lay-filter="stu-form2" >
                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">学院：</label>
                            <div class="layui-input-block">
                                    <input type="text" name="orgName" placeholder=""
                                           autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">专业：</label>
                            <div class="layui-input-block">
                                    <input type="text" name="specialtyName"  placeholder=""
                                           autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">班级名称：</label>
                            <div class="layui-input-block">
                                <input type="text" name="className" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">班长姓名：</label>
                            <div class="layui-input-block">
                                <input type="text" name="monitorName"  placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">班长电话：</label>
                            <div class="layui-input-block">
                                <input type="text" name="monitorTel"  placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">班主任姓名：</label>
                            <div class="layui-input-block">
                                <input type="text" name="adviserName" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">班主任电话：</label>
                            <div class="layui-input-block">
                                <input type="text" name="adviserTel" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">备注：</label>
                            <div class="layui-input-block">
                                <textarea name="remark" style="width: 638px;" placeholder="" class="layui-textarea" disabled readonly></textarea>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!-- 宿舍信息 -->
            <div class="layui-tab-item">
                <form class="layui-form" action="" lay-filter="stu-form3" >
                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">宿舍区：</label>
                            <div class="layui-input-block">
                                    <input type="text" name="area" placeholder=""
                                           autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">楼号：</label>
                            <div class="layui-input-block">
                                <input type="text" name="buildingNum" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">楼层：</label>
                            <div class="layui-input-block">
                                    <input type="text" name="floor" placeholder=""
                                           autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">寝室号：</label>
                            <div class="layui-input-block">
                                <input type="text" name="dormId" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">朝向：</label>
                            <div class="layui-input-block">
                                    <input type="text" name="orientation" placeholder=""
                                           autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">寝室长：</label>
                            <div class="layui-input-block">
                                <input type="text" name="leader" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">床铺数：</label>
                            <div class="layui-input-block">
                                    <input type="text" name="bunkNum" placeholder=""
                                           autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!-- 家庭信息 -->
            <div class="layui-tab-item">
                <form class="layui-form" action="" lay-filter="stu-form4">
                    <div class="layui-row layui-form-item">
                        <div class="layui-col-md4">
                            <label class="layui-form-label">家长姓名：</label>
                            <div class="layui-input-block">
                                <input type="text" name="fullname" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">联系方式：</label>
                            <div class="layui-input-block">
                                <input type="text" name="fullname" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>

                    <div class="layui-row layui-form-item">

                        <div class="layui-col-md4">
                            <label class="layui-form-label">家长职业：</label>
                            <div class="layui-input-block">
                                <input type="text" name="fullname" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                        <div class="layui-col-md4">
                            <label class="layui-form-label">家长住址：</label>
                            <div class="layui-input-block">
                                <input type="text" name="fullname" placeholder=""
                                       autocomplete="off" class="layui-input" disabled readonly>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="${ctxStatic}/layuiadmin/layui/layui.js?t=1"></script>
<script>
    layui.config({
        base: '${ctxStatic}/layuiadmin/' //静态资源所在路径
    }).extend({
        index: 'lib/index' //主入口模块
    }).use(['index', 'form'],function(){
        var $ = layui.$
            ,form = layui.form
            ,form1 = layui.form.val("stu-form1")
            ,submitBtn = "component-form-element"
            ,updateUrl = "${ctx}/empInfo/updateEmpInfo";
        qurryForm1();

        function qurryForm1() {
            $.ajax({
                url: '${ctx}/stu/studentInfo', //模拟接口
                type: 'get',
                success: function(r){
                    if(r != "" && r != null){
                        if(r.gender=='m'){
                            r.gender='男'
                        }else{
                            r.gender='女'
                        }
                        form.val("stu-form1", {
                            "empName": r.empName // "name": "value"
                            ,"id": r.id
                            ,"gender": r.gender
                            ,"collegeName": r.orgName
                            ,"cardno": r.cardNo
                            ,"specialtyName": r.specialtyName
                            ,"entryYear": r.entryYear
                            ,"mobileno": r.mobileno
                            ,"postcode": r.postalCode
                            ,"email": r.email
                            ,"nation": r.nation
                            ,"birthdate": r.birthdate
                            ,"degree": r.degree
                            ,"politicsStatus": r.politicsStatus
                            ,"nativePlace": r.nativePlace
                            ,"familyAddress": r.familyAddress
                            ,"onShool": r.onShool
                            ,"shoolRoll":r.shoolRoll
                            ,"bankCard": r.bankCard
                        })
                        form.val("stu-form2", {
                            "orgName": r.orgName
                            ,"specialtyName": r.specialtyName
                            ,"className": r.className
                            ,"monitorName": r.monitorName
                            /* ,"monitorTel": r.monitorTel*/
                            ,"adviserName": r.adviserName
                            /* ,"adviserTel": r.adviserTel*/
                            ,"remark": r.remark
                        })
                        form.val("stu-form3", {
                            "area": r.area // "name": "value"
                            ,"buildingNum": r.buildingNum
                            ,"floor": r.floor
                            ,"dormId": r.dormId
                            ,"orientation": r.orientation
                            ,"leader": r.leader
                            ,"bunkNum": r.bunkNum
                        })
                    }
                }
            });
        }
        form.render();

        /* 监听提交 */
            form.on('submit('+submitBtn+')', function (data) {
                var data = data.field;
                $.ajax({
                    url: updateUrl,
                    data: JSON.stringify(data),
                    async: false,
                    type: 'post',
                    contentType: 'application/json;charset=utf-8',
                    success: function(res){

                    }
                });
        });


    });
</script>
</body>

</html>
